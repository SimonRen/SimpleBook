package.path = package.path .. ';?/init.lua;../?.lua;./data/?/init.lua;./data/?.lua;'
--------------------------------------------------------------------------------

-- ObjC
local objc = require "objc"
setmetatable(_G, {__index=objc})

--------------------------------------------------------------------------------

require "system"
require "book"

--------------------------------------------------------------------------------

LoadPage = function(part, page)
    -- reset current view
    ViewReset()

    -- prepare the page
    local pagepath  = string.format( 'book.%s.%04d', part, page )
    local processor = require( pagepath )
    if type(processor) == 'function' then
        processor()
    end

    -- show
    ViewShow()
end

--------------------------------------------------------------------------------

do
    LoadPage( 'cover', 1 )
end

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
